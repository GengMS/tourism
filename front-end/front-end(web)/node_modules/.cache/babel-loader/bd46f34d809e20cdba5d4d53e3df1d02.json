{"remainingRequest":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\babel-loader\\lib\\index.js!E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\设计案例\\tourism\\front-end\\front-end(web)\\src\\pages\\dongtai\\dongTai.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\src\\pages\\dongtai\\dongTai.vue","mtime":1619485726541},{"path":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\.babelrc","mtime":1617256139254},{"path":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\设计案例\\tourism\\front-end\\front-end(web)\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport top from \"@/components/Top/page\";\nexport default {\n  components: {\n    top: top\n  },\n  data: function data() {\n    return {\n      artcle: \"\",\n      commentList: [],\n      commentContent: \"\"\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.artcle = JSON.parse(this.$route.query.artcle);\n    this.axios.post(this.$root.dong_tai + \"comment/list/\" + this.artcle.dId).then(function (res) {\n      _this.commentList = res.data;\n      console.log(_this.commentList);\n\n      _this.commentList.forEach(function (element) {\n        element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\n      });\n\n      _this.artcle.commentsCount = _this.commentList.length;\n    }).catch(function (err) {\n      console.error(err);\n    });\n  },\n  methods: {\n    send: function send() {\n      var _this2 = this;\n\n      this.axios.post(this.$root.dong_tai + \"uploadComments/\" + this.artcle.dId + \"/\" + this.$cookies.get(\"uId\") + \"/\" + this.commentContent).then(function (res) {\n        if (res.data) {\n          _this2.artcle.commentsCount++;\n          var data = {\n            uId: _this2.$cookies.get(\"uId\"),\n            name: _this2.$cookies.get(\"name\"),\n            imgUrl: _this2.$cookies.get(\"imgUrl\").replaceAll(\"^\", \"/\"),\n            content: _this2.commentContent\n          };\n\n          _this2.commentList.unshift(data);\n\n          _this2.commentContent = \"\";\n        } else {\n          _this2.$message.error(\"评论内容请不要携带特殊字符\");\n        }\n      }).catch(function (err) {\n        console.error(err);\n\n        _this2.$message.error(\"评论内容请不要携带特殊字符\");\n      });\n    },\n    giveTitle: function giveTitle() {\n      for (var i = 0; i < this.artcle.content.length; i++) {\n        if (this.artcle.content[i].type == \"标题\") {\n          var title = this.artcle.content[i].content;\n          return title;\n        }\n      }\n    },\n    increDot: function increDot() {\n      var _this3 = this;\n\n      this.axios.post(this.$root.dong_tai + \"/increDot/\" + this.artcle.dId + \"/\" + this.$cookies.get(\"uId\")).then(function (res) {\n        if (res.data) {\n          _this3.artcle.dotCount++;\n          _this3.artcle.goDot = true;\n        }\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    dcrDot: function dcrDot() {\n      var _this4 = this;\n\n      this.axios.post(this.$root.dong_tai + \"/decDot/\" + this.artcle.dId + \"/\" + this.$cookies.get(\"uId\")).then(function (res) {\n        if (res.data) {\n          _this4.artcle.dotCount--;\n          _this4.artcle.goDot = false;\n        }\n      }).catch(function (err) {\n        console.error(err);\n      });\n    }\n  }\n};",{"version":3,"sources":["dongTai.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <top></top>\r\n    <div class=\"dongTaiPageBody\">\r\n      <div class=\"dongTaiPageCon\">\r\n        <div class=\"f1\">\r\n          <el-avatar :src=\"artcle.imgUrl\"></el-avatar>\r\n          {{ artcle.userName }}\r\n        </div>\r\n        <div class=\"f2\">\r\n          <h3>{{ giveTitle() }}</h3>\r\n          <div class=\"dongtai_img_div\">\r\n            <img\r\n              v-for=\"(item1, index1) in artcle.content\"\r\n              :key=\"index1\"\r\n              :src=\"item1.content\"\r\n              v-if=\"!(item1.type == '标题')\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div v-if=\"artcle.sight.length > 0\" class=\"dong_tai_sight\">\r\n            <i class=\"el-icon-location\">{{ artcle.sight }}</i>\r\n          </div>\r\n          <div class=\"dong_tai_i\">\r\n            <i class=\"el-icon-thumb\" v-show=\"!artcle.goDot\" @click=\"increDot\">{{\r\n              artcle.dotCount\r\n            }}</i>\r\n            <i\r\n              class=\"el-icon-thumb\"\r\n              style=\"color: orange\"\r\n              v-show=\"artcle.goDot\"\r\n              @click=\"dcrDot\"\r\n              >{{ artcle.dotCount }}</i\r\n            >\r\n            &nbsp;\r\n            <i class=\"el-icon-chat-line-round\">{{ artcle.commentsCount }}</i>\r\n          </div>\r\n        </div>\r\n        <div class=\"f3\">\r\n          <div>\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              maxlength=\"150\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"commentContent\"\r\n            >\r\n            </el-input>\r\n            <div style=\"text-align:right;\">\r\n                <el-button type=\"success\" @click=\"send()\">评论</el-button>\r\n            </div>\r\n            \r\n          </div>\r\n          <div\r\n            class=\"comment_item\"\r\n            v-for=\"(item, index) in commentList\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"comment_item_top\">\r\n              <el-avatar :src=\"item.imgUrl\"></el-avatar>\r\n              {{ item.name }}\r\n            </div>\r\n            <div>\r\n              {{ item.content }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport top from \"@/components/Top/page\";\r\nexport default {\r\n  components: {\r\n    top,\r\n  },\r\n  data() {\r\n    return {\r\n      artcle: \"\",\r\n      commentList: [],\r\n      commentContent:\"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.artcle = JSON.parse(this.$route.query.artcle);\r\n    this.axios\r\n      .post(this.$root.dong_tai + \"comment/list/\" + this.artcle.dId)\r\n      .then((res) => {\r\n        this.commentList = res.data;\r\n        console.log(this.commentList);\r\n        this.commentList.forEach((element) => {\r\n          element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\r\n        });\r\n        this.artcle.commentsCount = this.commentList.length\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  },\r\n  methods: {\r\n    send(){\r\n        this.axios.post(this.$root.dong_tai+\"uploadComments/\"+this.artcle.dId+\"/\"+this.$cookies.get(\"uId\")+\"/\"+this.commentContent)\r\n        .then(res => {\r\n            if(res.data){\r\n                \r\n                this.artcle.commentsCount++;\r\n                let data = {\r\n                    uId:this.$cookies.get(\"uId\"),\r\n                    name: this.$cookies.get(\"name\"),\r\n                    imgUrl : this.$cookies.get(\"imgUrl\").replaceAll(\"^\",\"/\"),\r\n                    content: this.commentContent\r\n                }\r\n                this.commentList.unshift(data)\r\n                this.commentContent = \"\"\r\n            }else{\r\n                this.$message.error(\"评论内容请不要携带特殊字符\")\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.error(err); \r\n            this.$message.error(\"评论内容请不要携带特殊字符\")\r\n        })\r\n    },\r\n    giveTitle() {\r\n      for (let i = 0; i < this.artcle.content.length; i++) {\r\n        if (this.artcle.content[i].type == \"标题\") {\r\n          var title = this.artcle.content[i].content;\r\n          return title;\r\n        }\r\n      }\r\n    },\r\n    increDot() {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"/increDot/\" +\r\n            this.artcle.dId +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.artcle.dotCount++;\r\n            this.artcle.goDot = true;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    dcrDot() {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"/decDot/\" +\r\n            this.artcle.dId +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.artcle.dotCount--;\r\n            this.artcle.goDot = false;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dong_tai_sight {\r\n  color: rgb(39, 38, 38);\r\n  font-size: 14px;\r\n  margin: 4px 0;\r\n}\r\n.dong_tai_i > i {\r\n  cursor: pointer;\r\n}\r\n.dongtai_img_div > img {\r\n  max-height: 120px;\r\n  height: 120px;\r\n  height: 100%;\r\n  margin-right: 10px;\r\n}\r\n.dongTaiPageBody {\r\n  background: rgb(250, 250, 250);\r\n}\r\n.dongTaiPageCon {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n}\r\n.f1 {\r\n  display: flex;\r\n  align-items: center;\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  padding: 10px;\r\n}\r\n.comment_item_top {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.comment_item {\r\n  background: white;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  margin-top: 14px;\r\n}\r\n.f2 {\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n}\r\n</style>"],"sourceRoot":"src/pages/dongtai"}]}