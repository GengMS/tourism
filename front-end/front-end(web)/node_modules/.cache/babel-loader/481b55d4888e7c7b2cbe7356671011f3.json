{"remainingRequest":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\thread-loader\\dist\\cjs.js!D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\tourism\\front-end\\front-end\\src\\pages\\dongtai\\page.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\tourism\\front-end\\front-end\\src\\pages\\dongtai\\page.vue","mtime":1619486958016},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\.babelrc","mtime":1617256139254},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport dongTai from \"@/components/DongTai/page\";\nimport top from \"@/components/Top/page\";\nexport default {\n  components: {\n    top: top,\n    dongTai: dongTai\n  },\n  data: function data() {\n    return {\n      actIndex: 1,\n      title: \"最新动态\",\n      height: \"\",\n      zuiBackImg: \"url(\" + require(\"@/assets/CoUBYGBkI-uAbH2oAC9KSsmQjNE706.png\") + \")\",\n      dongTaiShow: false,\n      dataList: [],\n      dotShow: true,\n      sightsList: [],\n      backImgList: [\"url(\" + require(\"@/assets/re3.jpeg\") + \")\", \"url(\" + require(\"@/assets/re2.jpeg\") + \")\", \"url(\" + require(\"@/assets/re1.jpeg\") + \")\"],\n      countDong: 0,\n      biao: null\n    };\n  },\n  methods: {\n    getReMaxPage: function getReMaxPage() {\n      var _this = this;\n\n      this.axios.post(this.$root.dong_tai + \"countDong/\" + this.title).then(function (res) {\n        _this.countDong = parseInt(res.data / 10 + 1);\n        console.log(_this.countDong);\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    showDong: function showDong() {\n      this.dongTaiShow = true;\n    },\n    goNEWst: function goNEWst() {\n      this.title = \"最新动态\";\n      this.biao = null;\n      this.actIndex = 1;\n      this.flesh();\n      var that = this;\n      this.axios.post(this.$root.dong_tai + \"countDong\").then(function (res) {\n        that.countDong = Math.trunc(res.data / 10) + 1;\n        console.log(that.countDong);\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    goOtherPage: function goOtherPage(item) {\n      var _this2 = this;\n\n      this.actIndex = item;\n\n      if (this.biao != null) {\n        this.axios.post(this.$root.dong_tai + \"listDongBySight/\" + this.$cookies.get(\"uId\") + \"/\" + this.biao + \"/\" + this.actIndex).then(function (res) {\n          _this2.dataList = res.data;\n\n          _this2.dataList.forEach(function (element) {\n            element.content.forEach(function (element1) {\n              if (element1.type == \"图片\") {\n                element1.content.replaceAll(\"^\", \"/\");\n              }\n            });\n          });\n\n          _this2.dataList.forEach(function (element) {\n            element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\n          });\n        });\n      } else {\n        this.flesh();\n      }\n    },\n    tiao: function tiao(sight) {\n      var _this3 = this;\n\n      this.title = sight;\n      this.actIndex = 1;\n      this.axios.post(this.$root.dong_tai + \"listDongBySight/\" + this.$cookies.get(\"uId\") + \"/\" + sight + \"/\" + this.actIndex).then(function (res) {\n        _this3.biao = sight;\n        _this3.dataList = res.data;\n\n        _this3.dataList.forEach(function (element) {\n          element.content.forEach(function (element1) {\n            if (element1.type == \"图片\") {\n              element1.content.replaceAll(\"^\", \"/\");\n            }\n          });\n        });\n\n        _this3.dataList.forEach(function (element) {\n          element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\n        });\n\n        _this3.getReMaxPage();\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    giveTitle: function giveTitle(index) {\n      for (var i = 0; i < this.dataList[index].content.length; i++) {\n        if (this.dataList[index].content[i].type == \"标题\") {\n          var title = this.dataList[index].content[i].content;\n          return title;\n        }\n      }\n    },\n    increDot: function increDot(index) {\n      var _this4 = this;\n\n      this.axios.post(this.$root.dong_tai + \"/increDot/\" + this.dataList[index].dId + \"/\" + this.$cookies.get(\"uId\")).then(function (res) {\n        if (res.data) {\n          _this4.dataList[index].dotCount++;\n          _this4.dataList[index].goDot = true;\n        }\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    dcrDot: function dcrDot(index) {\n      var _this5 = this;\n\n      this.axios.post(this.$root.dong_tai + \"/decDot/\" + this.dataList[index].dId + \"/\" + this.$cookies.get(\"uId\")).then(function (res) {\n        if (res.data) {\n          _this5.dataList[index].dotCount--;\n          _this5.dataList[index].goDot = false;\n        }\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    goPage: function goPage(index) {\n      var a = JSON.stringify(this.dataList[index]);\n      this.$router.push({\n        path: \"/dongtaiPage\",\n        query: {\n          artcle: a\n        }\n      });\n    },\n    flesh: function flesh() {\n      var _this6 = this;\n\n      this.axios.post(this.$root.dong_tai + \"dong/listDong/\" + this.$cookies.get(\"uId\") + \"/\" + this.actIndex).then(function (res) {\n        _this6.dataList = res.data;\n\n        _this6.dataList.forEach(function (element) {\n          element.content.forEach(function (element1) {\n            if (element1.type == \"图片\") {\n              element1.content.replaceAll(\"^\", \"/\");\n            }\n          });\n        });\n\n        _this6.dataList.forEach(function (element) {\n          element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\n        });\n      }).catch(function (err) {\n        console.error(err);\n      });\n    }\n  },\n  beforeMount: function beforeMount() {\n    var _this7 = this;\n\n    this.axios.post(this.$root.dong_tai + \"sights\").then(function (res) {\n      _this7.sightsList = res.data;\n      var that = _this7;\n\n      _this7.axios.post(_this7.$root.dong_tai + \"countDong\").then(function (res) {\n        that.countDong = Math.trunc(res.data / 10) + 1;\n        console.log(that.countDong);\n      }).catch(function (err) {\n        console.error(err);\n      });\n    }).catch(function (err) {\n      console.error(err);\n    });\n  },\n  mounted: function mounted() {\n    var a = document.documentElement.clientHeight;\n    this.height = a + \"px\";\n    this.flesh();\n  }\n};",{"version":3,"sources":["page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,OAAA,OAAA,MAAA,2BAAA;AACA,OAAA,GAAA,MAAA,uBAAA;AACA,eAAA;AACA,cAAA;AACA,YADA;AAEA;AAFA,GADA;AAKA,MALA,kBAKA;AACA,WAAA;AAEA,gBAAA,CAFA;AAGA,aAAA,MAHA;AAIA,cAAA,EAJA;AAKA,kBAAA,SAAA,QAAA,6CAAA,CAAA,GAAA,GALA;AAMA,mBAAA,KANA;AAOA,gBAAA,EAPA;AAQA,eAAA,IARA;AASA,kBAAA,EATA;AAUA,mBAAA,CACA,SAAA,QAAA,mBAAA,CAAA,GAAA,GADA,EAEA,SAAA,QAAA,mBAAA,CAAA,GAAA,GAFA,EAGA,SAAA,QAAA,mBAAA,CAAA,GAAA,GAHA,CAVA;AAeA,iBAAA,CAfA;AAgBA,YAAA;AAhBA,KAAA;AAkBA,GAxBA;AAyBA,WAAA;AACA,gBADA,0BACA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA,KAAA,CAAA,QAAA,GAAA,YAAA,GAAA,KAAA,KAAA,EACA,IADA,CACA,eAAA;AACA,cAAA,SAAA,GAAA,SAAA,IAAA,IAAA,GAAA,EAAA,GAAA,CAAA,CAAA;AACA,gBAAA,GAAA,CAAA,MAAA,SAAA;AACA,OAJA,EAKA,KALA,CAKA,eAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OAPA;AAQA,KAVA;AAWA,YAXA,sBAWA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAbA;AAcA,WAdA,qBAcA;AACA,WAAA,KAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,CAAA;AACA,WAAA,KAAA;AACA,UAAA,OAAA,IAAA;AACA,WAAA,KAAA,CACA,IADA,CACA,KAAA,KAAA,CAAA,QAAA,GAAA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,KAAA,CAAA,IAAA,IAAA,GAAA,EAAA,IAAA,CAAA;AACA,gBAAA,GAAA,CAAA,KAAA,SAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OARA;AASA,KA7BA;AA8BA,eA9BA,uBA8BA,IA9BA,EA8BA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;;AACA,UAAA,KAAA,IAAA,IAAA,IAAA,EAAA;AACA,aAAA,KAAA,CACA,IADA,CAEA,KAAA,KAAA,CAAA,QAAA,GACA,kBADA,GAEA,KAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAFA,GAGA,GAHA,GAIA,KAAA,IAJA,GAKA,GALA,GAMA,KAAA,QARA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA,iBAAA,QAAA,GAAA,IAAA,IAAA;;AACA,iBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,oBAAA,OAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,kBAAA,SAAA,IAAA,IAAA,IAAA,EAAA;AACA,yBAAA,OAAA,CAAA,UAAA,CAAA,GAAA,EAAA,GAAA;AACA;AACA,aAJA;AAKA,WANA;;AAQA,iBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,oBAAA,MAAA,GAAA,QAAA,MAAA,CAAA,UAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA,WAFA;AAGA,SAvBA;AAwBA,OAzBA,MAyBA;AACA,aAAA,KAAA;AACA;AACA,KA5DA;AA6DA,QA7DA,gBA6DA,KA7DA,EA6DA;AAAA;;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,CAAA;AACA,WAAA,KAAA,CACA,IADA,CAEA,KAAA,KAAA,CAAA,QAAA,GACA,kBADA,GAEA,KAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAFA,GAGA,GAHA,GAIA,KAJA,GAKA,GALA,GAMA,KAAA,QARA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA,eAAA,IAAA,GAAA,KAAA;AACA,eAAA,QAAA,GAAA,IAAA,IAAA;;AACA,eAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,gBAAA,SAAA,IAAA,IAAA,IAAA,EAAA;AACA,uBAAA,OAAA,CAAA,UAAA,CAAA,GAAA,EAAA,GAAA;AACA;AACA,WAJA;AAKA,SANA;;AAQA,eAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,MAAA,GAAA,QAAA,MAAA,CAAA,UAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA,SAFA;;AAGA,eAAA,YAAA;AACA,OAzBA,EA0BA,KA1BA,CA0BA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OA5BA;AA6BA,KA7FA;AA8FA,aA9FA,qBA8FA,KA9FA,EA8FA;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,QAAA,CAAA,KAAA,EAAA,OAAA,CAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,KAAA,QAAA,CAAA,KAAA,EAAA,OAAA,CAAA,CAAA,EAAA,IAAA,IAAA,IAAA,EAAA;AACA,cAAA,QAAA,KAAA,QAAA,CAAA,KAAA,EAAA,OAAA,CAAA,CAAA,EAAA,OAAA;AACA,iBAAA,KAAA;AACA;AACA;AACA,KArGA;AAsGA,YAtGA,oBAsGA,KAtGA,EAsGA;AAAA;;AACA,WAAA,KAAA,CACA,IADA,CAEA,KAAA,KAAA,CAAA,QAAA,GACA,YADA,GAEA,KAAA,QAAA,CAAA,KAAA,EAAA,GAFA,GAGA,GAHA,GAIA,KAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CANA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,IAAA,EAAA;AACA,iBAAA,QAAA,CAAA,KAAA,EAAA,QAAA;AACA,iBAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,IAAA;AACA;AACA,OAbA,EAcA,KAdA,CAcA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OAhBA;AAiBA,KAxHA;AAyHA,UAzHA,kBAyHA,KAzHA,EAyHA;AAAA;;AACA,WAAA,KAAA,CACA,IADA,CAEA,KAAA,KAAA,CAAA,QAAA,GACA,UADA,GAEA,KAAA,QAAA,CAAA,KAAA,EAAA,GAFA,GAGA,GAHA,GAIA,KAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CANA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,IAAA,EAAA;AACA,iBAAA,QAAA,CAAA,KAAA,EAAA,QAAA;AACA,iBAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,KAAA;AACA;AACA,OAbA,EAcA,KAdA,CAcA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OAhBA;AAiBA,KA3IA;AA4IA,UA5IA,kBA4IA,KA5IA,EA4IA;AACA,UAAA,IAAA,KAAA,SAAA,CAAA,KAAA,QAAA,CAAA,KAAA,CAAA,CAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,cAAA;AAAA,eAAA;AAAA,kBAAA;AAAA;AAAA,OAAA;AACA,KA/IA;AAgJA,SAhJA,mBAgJA;AAAA;;AACA,WAAA,KAAA,CACA,IADA,CAEA,KAAA,KAAA,CAAA,QAAA,GACA,gBADA,GAEA,KAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAFA,GAGA,GAHA,GAIA,KAAA,QANA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,eAAA,QAAA,GAAA,IAAA,IAAA;;AACA,eAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,gBAAA,SAAA,IAAA,IAAA,IAAA,EAAA;AACA,uBAAA,OAAA,CAAA,UAAA,CAAA,GAAA,EAAA,GAAA;AACA;AACA,WAJA;AAKA,SANA;;AAQA,eAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,kBAAA,MAAA,GAAA,QAAA,MAAA,CAAA,UAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA,SAFA;AAGA,OArBA,EAuBA,KAvBA,CAuBA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OAzBA;AA0BA;AA3KA,GAzBA;AAsMA,aAtMA,yBAsMA;AAAA;;AACA,SAAA,KAAA,CACA,IADA,CACA,KAAA,KAAA,CAAA,QAAA,GAAA,QADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,aAAA,UAAA,GAAA,IAAA,IAAA;AACA,UAAA,OAAA,MAAA;;AACA,aAAA,KAAA,CACA,IADA,CACA,OAAA,KAAA,CAAA,QAAA,GAAA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,KAAA,CAAA,IAAA,IAAA,GAAA,EAAA,IAAA,CAAA;AACA,gBAAA,GAAA,CAAA,KAAA,SAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,GAAA;AACA,OARA;AASA,KAdA,EAeA,KAfA,CAeA,UAAA,GAAA,EAAA;AACA,cAAA,KAAA,CAAA,GAAA;AACA,KAjBA;AAkBA,GAzNA;AA0NA,SA1NA,qBA0NA;AACA,QAAA,IAAA,SAAA,eAAA,CAAA,YAAA;AACA,SAAA,MAAA,GAAA,IAAA,IAAA;AACA,SAAA,KAAA;AACA;AA9NA,CAAA","sourcesContent":["<template>\r\n  <div class=\"dongtai\" :style=\"{ height: height }\">\r\n    <top></top>\r\n    <div class=\"cotainer f2\">\r\n      <div class=\"dongtai_left\">\r\n        <h1>{{ title }}</h1>\r\n        <div v-for=\"(item, index) in dataList\" :key=\"index\">\r\n          <div class=\"dong_imgUrl\">\r\n            <img :src=\"item.imgUrl\" alt=\"\" />\r\n            <h3>{{ item.userName }}</h3>\r\n          </div>\r\n          <div class=\"dong_title\">\r\n            {{ giveTitle(index) }}\r\n          </div>\r\n          <div class=\"dongtai_img_div\">\r\n            <img\r\n              v-for=\"(item1, index1) in item.content\"\r\n              :key=\"index1\"\r\n              :src=\"item1.content\"\r\n              v-if=\"!(item1.type == '标题')\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div v-if=\"item.sight.length > 0\" class=\"dong_tai_sight\">\r\n            <i class=\"el-icon-location\">{{ item.sight }}</i>\r\n          </div>\r\n          \r\n          <div class=\"dong_id\">\r\n            动态id:{{item.dId}}\r\n          </div>\r\n          <div class=\"dong_tai_i\">\r\n            <i\r\n              class=\"el-icon-thumb\"\r\n              v-show=\"!item.goDot\"\r\n              @click=\"increDot(index)\"\r\n              >{{ item.dotCount }}</i\r\n            >\r\n            <i\r\n              class=\"el-icon-thumb\"\r\n              style=\"color: orange\"\r\n              v-show=\"item.goDot\"\r\n              @click=\"dcrDot(index)\"\r\n              >{{ item.dotCount }}</i\r\n            >\r\n            &nbsp;\r\n            <i class=\"el-icon-chat-line-round\" @click=\"goPage(index)\">{{\r\n              item.commentsCount\r\n            }}</i>\r\n          </div>\r\n          <hr />\r\n        </div>\r\n\r\n       \r\n      \r\n       \r\n        <div class=\"dong_tran\">\r\n          <div class=\"dong_pageion\">\r\n            <div\r\n              v-for=\"item in countDong\"\r\n              :class=\"[actIndex == item ? 'active' : '']\"\r\n              @click=\"goOtherPage(item)\"\r\n              :key=\"item\"\r\n            >\r\n              {{ item }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"dongtai_right\">\r\n        <h2>热门景点</h2>\r\n        <hr />\r\n        <div class=\"geng_card\" @click=\"goNEWst\" :style=\"{background: zuiBackImg}\">\r\n          最新动态\r\n        </div>\r\n        <div\r\n          v-for=\"(item, index) in sightsList\"\r\n          :key=\"index\"\r\n          :style=\"{ background: backImgList[index] }\"\r\n          @click=\"tiao(item)\"\r\n          class=\"geng_card\"\r\n        >\r\n          {{ item }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"dongtaijia\">\r\n      <div>\r\n        <!-- <i class=\"el-icon-edit\">文章</i> -->\r\n        <i class=\"el-icon-edit\" @click=\"showDong\">动态</i>\r\n      </div>\r\n\r\n      <i class=\"el-icon-plus\"></i>\r\n    </div>\r\n    <dongTai v-if=\"dongTaiShow\"></dongTai>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dongTai from \"@/components/DongTai/page\";\r\nimport top from \"@/components/Top/page\";\r\nexport default {\r\n  components: {\r\n    top,\r\n    dongTai,\r\n  },\r\n  data() {\r\n    return {\r\n      \r\n      actIndex: 1,\r\n      title: \"最新动态\",\r\n      height: \"\",\r\n      zuiBackImg:  \"url(\" + require(\"@/assets/CoUBYGBkI-uAbH2oAC9KSsmQjNE706.png\") + \")\",\r\n      dongTaiShow: false,\r\n      dataList: [],\r\n      dotShow: true,\r\n      sightsList: [],\r\n      backImgList: [\r\n        \"url(\" + require(\"@/assets/re3.jpeg\") + \")\",\r\n        \"url(\" + require(\"@/assets/re2.jpeg\") + \")\",\r\n        \"url(\" + require(\"@/assets/re1.jpeg\") + \")\",\r\n      ],\r\n      countDong: 0,\r\n      biao: null,\r\n    };\r\n  },\r\n  methods: {\r\n    getReMaxPage(){\r\n      this.axios.post(this.$root.dong_tai+\"countDong/\"+this.title)\r\n      .then(res => {\r\n        this.countDong = parseInt(res.data/10+1); \r\n        console.log(this.countDong)\r\n      })\r\n      .catch(err => {\r\n        console.error(err); \r\n      })\r\n    },\r\n    showDong() {\r\n      this.dongTaiShow = true;\r\n    },\r\n    goNEWst(){\r\n      this.title = \"最新动态\"\r\n      this.biao = null;\r\n      this.actIndex = 1;\r\n      this.flesh()\r\n      let that = this;\r\n      this.axios\r\n          .post(this.$root.dong_tai + \"countDong\")\r\n          .then((res) => {\r\n            that.countDong = Math.trunc(res.data / 10) + 1;\r\n            console.log(that.countDong);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n    },\r\n    goOtherPage(item) {\r\n      this.actIndex = item;\r\n      if (this.biao != null) {\r\n        this.axios\r\n          .post(\r\n            this.$root.dong_tai +\r\n              \"listDongBySight/\" +\r\n              this.$cookies.get(\"uId\") +\r\n              \"/\" +\r\n              this.biao +\r\n              \"/\" +\r\n              this.actIndex\r\n          )\r\n          .then((res) => {\r\n            this.dataList = res.data;\r\n            this.dataList.forEach((element) => {\r\n              element.content.forEach((element1) => {\r\n                if (element1.type == \"图片\") {\r\n                  element1.content.replaceAll(\"^\", \"/\");\r\n                }\r\n              });\r\n            });\r\n\r\n            this.dataList.forEach((element) => {\r\n              element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\r\n            });\r\n          });\r\n      } else {\r\n        this.flesh();\r\n      }\r\n    },\r\n    tiao(sight) {\r\n      this.title = sight;\r\n      this.actIndex = 1;\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"listDongBySight/\" +\r\n            this.$cookies.get(\"uId\") +\r\n            \"/\" +\r\n            sight +\r\n            \"/\" +\r\n            this.actIndex\r\n        )\r\n        .then((res) => {\r\n          this.biao = sight;\r\n          this.dataList = res.data;\r\n          this.dataList.forEach((element) => {\r\n            element.content.forEach((element1) => {\r\n              if (element1.type == \"图片\") {\r\n                element1.content.replaceAll(\"^\", \"/\");\r\n              }\r\n            });\r\n          });\r\n\r\n          this.dataList.forEach((element) => {\r\n            element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\r\n          });\r\n          this.getReMaxPage();\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    giveTitle(index) {\r\n      for (let i = 0; i < this.dataList[index].content.length; i++) {\r\n        if (this.dataList[index].content[i].type == \"标题\") {\r\n          var title = this.dataList[index].content[i].content;\r\n          return title;\r\n        }\r\n      }\r\n    },\r\n    increDot(index) {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"/increDot/\" +\r\n            this.dataList[index].dId +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.dataList[index].dotCount++;\r\n            this.dataList[index].goDot = true;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    dcrDot(index) {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"/decDot/\" +\r\n            this.dataList[index].dId +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.dataList[index].dotCount--;\r\n            this.dataList[index].goDot = false;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    goPage(index) {\r\n      let a = JSON.stringify(this.dataList[index]);\r\n      this.$router.push({ path: \"/dongtaiPage\", query: { artcle: a } });\r\n    },\r\n    flesh() {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"dong/listDong/\" +\r\n            this.$cookies.get(\"uId\") +\r\n            \"/\" +\r\n            this.actIndex\r\n        )\r\n        .then((res) => {\r\n          this.dataList = res.data;\r\n          this.dataList.forEach((element) => {\r\n            element.content.forEach((element1) => {\r\n              if (element1.type == \"图片\") {\r\n                element1.content.replaceAll(\"^\", \"/\");\r\n              }\r\n            });\r\n          });\r\n\r\n          this.dataList.forEach((element) => {\r\n            element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\r\n          });\r\n        })\r\n\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.axios\r\n      .post(this.$root.dong_tai + \"sights\")\r\n      .then((res) => {\r\n        this.sightsList = res.data;\r\n        let that = this;\r\n        this.axios\r\n          .post(this.$root.dong_tai + \"countDong\")\r\n          .then((res) => {\r\n            that.countDong = Math.trunc(res.data / 10) + 1;\r\n            console.log(that.countDong);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  },\r\n  mounted() {\r\n    let a = document.documentElement.clientHeight;\r\n    this.height = a + \"px\";\r\n    this.flesh();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dong_id{\r\n  font-size: 10px;\r\n  color: grey;\r\n}\r\n.dong_tran {\r\n  overflow: scroll;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n}\r\n.dong_tran::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n.dong_tran::-webkit-scrollbar-thumb {\r\n  border-radius: 10px;\r\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n.dong_tran::-webkit-scrollbar-track {\r\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n  border-radius: 0;\r\n  background: rgba(0, 0, 0, 0.1);\r\n}\r\n.dong_pageion {\r\n  display: flex;\r\n  margin-top: 30px;\r\n  border-top: 2px solid white;\r\n}\r\n.dong_pageion > div {\r\n  min-width: 30px;\r\n  min-height: 30px;\r\n  width: 30px;\r\n  height: 30px;\r\n  text-align: center;\r\n  line-height: 30px;\r\n  margin: 10px;\r\n  background: white;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n.dong_pageion > .active {\r\n  background: violet;\r\n}\r\n.dong_tai_sight {\r\n  color: rgb(39, 38, 38);\r\n  font-size: 14px;\r\n  margin: 4px 0;\r\n}\r\n.dong_tai_i > i {\r\n  cursor: pointer;\r\n}\r\nbody {\r\n  overflow-y: unset;\r\n}\r\n.dong_title {\r\n  font-size: 26px;\r\n}\r\n.dongtai {\r\n  background: url(\"../../assets/CoUBYGBhNV-AN-SPADHuD9JYNGM647.png\");\r\n  background-position: center;\r\n  overflow: scroll;\r\n  overflow-x: unset;\r\n}\r\n.dong_imgUrl {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.dong_imgUrl img {\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 4px;\r\n}\r\n.f2 {\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  background: rgba(255, 255, 255, 0.363);\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n}\r\n.dongtai_left {\r\n  width: 80%;\r\n  padding-right: 10px;\r\n}\r\n.dongtai_right {\r\n  width: 20%;\r\n}\r\n.dongtai_img_div {\r\n}\r\n.dongtai_img_div > img {\r\n  max-height: 120px;\r\n  height: 120px;\r\n  height: 100%;\r\n  margin-right: 10px;\r\n}\r\n.wenzhang {\r\n  display: flex;\r\n  position: relative;\r\n}\r\n.wenzhang > div:nth-child(1) {\r\n  width: 80%;\r\n}\r\n.wenzhang > div:nth-child(2) {\r\n  width: 20%;\r\n}\r\n.wenzhang > div:nth-child(2) > img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n}\r\n.wenzhang_title {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n.wenzhang_user {\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: 0px;\r\n}\r\n.geng_card {\r\n  width: 100%;\r\n  height: 80px;\r\n  border-radius: 8px;\r\n  background: red;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  line-height: 80px;\r\n  color: white;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n}\r\n.dongtaijia {\r\n  font-size: 30px;\r\n\r\n  background: white;\r\n  border-radius: 4px;\r\n  color: black;\r\n  position: fixed;\r\n  right: 5%;\r\n  bottom: 20px;\r\n  transition: all 0.6s;\r\n}\r\n.dongtaijia > .el-icon-plus {\r\n  transition: all 0.6s;\r\n}\r\n.dongtaijia:hover > .el-icon-plus {\r\n  transform: rotate(180deg);\r\n}\r\n.dongtaijia:hover > div {\r\n  opacity: 1;\r\n}\r\n\r\n.dongtaijia > div {\r\n  transition: all 0.8s;\r\n  opacity: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n.dongtaijia > div > .el-icon-edit:nth-child(1) {\r\n  position: absolute;\r\n  top: -40px;\r\n  left: -40px;\r\n  font-size: 13px;\r\n  background: white;\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 40px;\r\n}\r\n.dongtaijia > div > .el-icon-edit:nth-child(2) {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: -50px;\r\n  font-size: 13px;\r\n  background: white;\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 40px;\r\n}\r\n</style>"],"sourceRoot":"src/pages/dongtai"}]}