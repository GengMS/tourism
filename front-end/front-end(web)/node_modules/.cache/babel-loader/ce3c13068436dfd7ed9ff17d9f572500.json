{"remainingRequest":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\tourism\\front-end\\front-end\\src\\components\\ForgetPasswd\\UserLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\tourism\\front-end\\front-end\\src\\components\\ForgetPasswd\\UserLogin.vue","mtime":1617617956617},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\.babelrc","mtime":1617256139254},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BasicContainer from \"@vue-materials/basic-container\";\n\nvar backgroundImage = require(\"../../assets/CoUBYGBkI-uAbH2oAC9KSsmQjNE706.png\");\n\nexport default {\n  components: {\n    BasicContainer: BasicContainer\n  },\n  name: \"UserLogin\",\n  data: function data() {\n    return {\n      backgroundImage: backgroundImage,\n      user: {\n        username: \"\",\n        password: \"\"\n      },\n      mailCode: \"\",\n      num: \"登录\",\n      disabled: false\n    };\n  },\n  created: function created() {\n    if (this.$cookies.get(\"forget\") == null || this.$cookies.get(\"forget\") <= 0 || this.$cookies.get(\"forget\") == 60) {\n      this.$cookies.set(\"forget\", 60);\n      this.disabled = false;\n      this.num = \"获取\";\n    } else if (this.$cookies.get(\"forget\") < 60 && this.$cookies.get(\"forget\") > 0) {\n      this.getCode();\n    }\n  },\n  methods: {\n    submitBtn: function submitBtn() {\n      var _this = this;\n\n      if (this.user.username.length == 0 || this.user.password.length != 8 || this.mailCode.length != 4) {\n        this.$message.error(\"格式错误，请检查后注册\");\n        return;\n      }\n\n      this.axios.post(this.$root.loginUrl + \"/updatePasswd/\" + this.user.username + \"/\" + this.user.password + \"/\" + this.mailCode).then(function (res) {\n        if (res.data) {\n          _this.$message({\n            message: \"修改成功\",\n            type: \"success\"\n          });\n        }\n\n        console.log(res.data);\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    getCodeRequest: function getCodeRequest() {\n      var _this2 = this;\n\n      var reg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n\n      if (!reg.test(this.user.username)) {\n        this.$message.error(\"邮箱格式错误\");\n        return;\n      }\n\n      this.axios.post(this.$root.loginUrl + \"/getMailCode/\" + this.user.username).then(function (res) {\n        if (res.data) {\n          _this2.$message({\n            message: \"发送成功,验证码两分钟内有效\",\n            type: \"success\"\n          });\n\n          _this2.getCode();\n        } else {\n          _this2.$message.error(\"发送失败\");\n        }\n      }).catch(function (err) {\n        console.error(err);\n\n        _this2.$message.error(\"发送失败，请检查网络\");\n      });\n    },\n    getCode: function getCode() {\n      var _this3 = this;\n\n      var a = setInterval(function () {\n        if (_this3.$cookies.get(\"forget\") <= 0) {\n          _this3.$cookies.set(\"forget\", 60);\n\n          _this3.disabled = false;\n          _this3.num = \"获取\";\n          clearInterval(a);\n        } else {\n          _this3.disabled = true;\n\n          _this3.$cookies.set(\"forget\", _this3.$cookies.get(\"forget\") - 1);\n\n          _this3.num = _this3.$cookies.get(\"forget\");\n        }\n      }, 1000);\n    }\n  }\n};",{"version":3,"sources":["UserLogin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"user-login\">\n    <div\n      class=\"user-login-bg\"\n      :style=\"{ 'background-image': `url(${backgroundImage})` }\"\n    ></div>\n    <div class=\"content-wrapper\">\n      <h2 class=\"slogan\">\n        通了旅游 <br />\n        欢迎您\n      </h2>\n      <div class=\"form-container\">\n        <h4 class=\"form-title\">忘记密码</h4>\n        <el-form ref=\"form\" :model=\"user\" label-width=\"0\">\n          <div class=\"form-items\">\n            <el-row class=\"form-item\">\n              <el-col>\n                <el-form-item\n                  prop=\"username\"\n                  :rules=\"[{ required: true, message: '邮箱不能为空' }]\"\n                >\n                  <div class=\"form-line\">\n                    <i class=\"el-icon-edit-outline input-icon\"></i>\n                    <el-input\n                      placeholder=\"邮箱\"\n                      v-model=\"user.username\"\n                    ></el-input>\n                  </div>\n                </el-form-item>\n              </el-col>\n            </el-row>\n            <el-row class=\"form-item form-item-geng\">\n              <el-col>\n                <el-input\n                  type=\"text\"\n                  placeholder=\"验证码\"\n                  v-model=\"mailCode\"\n                ></el-input>\n                <el-button @click=\"getCodeRequest\" :disabled=\"disabled\">{{\n                  num\n                }}</el-button>\n              </el-col>\n            </el-row>\n            <el-row class=\"form-item\">\n              <el-col>\n                <el-form-item\n                  prop=\"password\"\n                  :rules=\"[{ required: true, message: '密码不能为空' }]\"\n                >\n                  <div class=\"form-line\">\n                    <i class=\"el-icon-service input-icon\"></i>\n                    <el-input\n                      type=\"password\"\n                      placeholder=\"密码\"\n                      v-model=\"user.password\"\n                    ></el-input>\n                  </div>\n                </el-form-item>\n              </el-col>\n            </el-row>\n            <el-row class=\"form-item\">\n              <el-button\n                type=\"primary\"\n                class=\"submit-btn\"\n                size=\"small\"\n                @click=\"submitBtn\"\n              >\n                修改密码\n              </el-button>\n            </el-row>\n          </div>\n            <el-row class=\"tips\">\n            <router-link to=\"/login\" tag=\"a\" class=\"link\">返回登录页</router-link>\n            \n            \n             \n          </el-row>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BasicContainer from \"@vue-materials/basic-container\";\nconst backgroundImage = require(\"../../assets/CoUBYGBkI-uAbH2oAC9KSsmQjNE706.png\");\nexport default {\n  components: { BasicContainer },\n  name: \"UserLogin\",\n\n  data() {\n    return {\n      backgroundImage: backgroundImage,\n      user: {\n        username: \"\",\n        password: \"\",\n      },\n      mailCode: \"\",\n      num: \"登录\",\n      disabled: false,\n    };\n  },\n\n  created() {\n    if (\n      this.$cookies.get(\"forget\") == null ||\n      this.$cookies.get(\"forget\") <= 0 ||\n      this.$cookies.get(\"forget\") == 60\n    ) {\n      this.$cookies.set(\"forget\", 60);\n      this.disabled = false;\n      this.num = \"获取\";\n    } else if (\n      this.$cookies.get(\"forget\") < 60 &&\n      this.$cookies.get(\"forget\") > 0\n    ) {\n      this.getCode();\n    }\n  },\n\n  methods: {\n    submitBtn() {\n      if (\n        this.user.username.length == 0 ||\n        this.user.password.length != 8 ||\n        this.mailCode.length != 4\n      ) {\n        this.$message.error(\"格式错误，请检查后注册\");\n        return;\n      }\n      this.axios\n        .post(\n          this.$root.loginUrl +\n            \"/updatePasswd/\" +\n            this.user.username +\n            \"/\" +\n            this.user.password +\n            \"/\" +\n            this.mailCode\n        )\n        .then((res) => {\n          if (res.data) {\n            this.$message({\n              message: \"修改成功\",\n              type: \"success\",\n            });\n          }\n          console.log(res.data);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    getCodeRequest() {\n      var reg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n      if (!reg.test(this.user.username)) {\n        this.$message.error(\"邮箱格式错误\");\n        return;\n      }\n      this.axios\n        .post(this.$root.loginUrl + \"/getMailCode/\" + this.user.username)\n        .then((res) => {\n          if (res.data) {\n            this.$message({\n              message: \"发送成功,验证码两分钟内有效\",\n              type: \"success\",\n            });\n            this.getCode();\n          } else {\n            this.$message.error(\"发送失败\");\n          }\n        })\n        .catch((err) => {\n          console.error(err);\n          this.$message.error(\"发送失败，请检查网络\");\n        });\n    },\n    getCode() {\n      let a = setInterval(() => {\n        if (this.$cookies.get(\"forget\") <= 0) {\n          this.$cookies.set(\"forget\", 60);\n          this.disabled = false;\n          this.num = \"获取\";\n          clearInterval(a);\n        } else {\n          this.disabled = true;\n          this.$cookies.set(\"forget\", this.$cookies.get(\"forget\") - 1);\n          this.num = this.$cookies.get(\"forget\");\n        }\n      }, 1000);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./UserLogin.scss\";\n.form-item-geng {\n  margin-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/components/ForgetPasswd"}]}