{"remainingRequest":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\tourism\\front-end\\front-end\\src\\components\\Login\\UserLogin.vue?vue&type=style&index=0&id=413f1d18&lang=scss&scoped=true&","dependencies":[{"path":"D:\\桌面\\tourism\\front-end\\front-end\\src\\components\\Login\\UserLogin.vue","mtime":1617608712830},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\sass-loader\\lib\\loader.js","mtime":1617256319369},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import './UserLogin.scss';\n",{"version":3,"sources":["UserLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA","file":"UserLogin.vue","sourceRoot":"src/components/Login","sourcesContent":["<template>\n  <div class=\"user-login\">\n    <div class=\"user-login-bg\" :style=\"{'background-image':`url(${backgroundImage})`}\"></div>\n    <div class=\"content-wrapper\">\n      <h2 class=\"slogan\">\n        通了旅游 <br /> 欢迎您\n      </h2>\n      <div class=\"form-container\">\n        <h4 class=\"form-title\">登录</h4>\n        <el-form ref=\"form\" :model=\"user\" label-width=\"0\">\n          <div class=\"form-items\">\n            <el-row class=\"form-item\">\n              <el-col>\n                <el-form-item prop=\"username\" :rules=\"[ { required: true, message: '会员名/邮箱/手机号不能为空'}]\">\n                  <div class=\"form-line\">\n                    <i class=\"el-icon-edit-outline input-icon\"></i>\n                    <el-input placeholder=\"邮箱\" v-model=\"user.username\"></el-input>\n                  </div>\n                </el-form-item>\n              </el-col>\n            </el-row>\n            <el-row class=\"form-item\">\n              <el-col>\n                <el-form-item prop=\"password\" :rules=\"[ { required: true, message: '密码不能为空'}]\">\n                  <div class=\"form-line\">\n                    <i class=\"el-icon-service input-icon\"></i>\n                    <el-input type=\"password\" placeholder=\"密码\" v-model=\"user.password\"></el-input>\n                  </div>\n                </el-form-item>\n              </el-col>\n            </el-row>\n           \n            <el-row class=\"form-item\">\n              <el-button type=\"primary\" class=\"submit-btn\" size=\"small\" @click=\"submitBtn\">\n                登 录\n              </el-button>\n            </el-row>\n          </div>\n          <el-row class=\"tips\">\n            <router-link to=\"/registy\" tag=\"a\" class=\"link\">立即注册</router-link>\n            \n            <span class=\"line\">|</span>\n             <router-link to=\"/forgetPasswd\" tag=\"a\" class=\"link\">忘记密码</router-link>\n          </el-row>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BasicContainer from '@vue-materials/basic-container';\nconst backgroundImage =\n  require('../../assets/CoUBYGBii_CAZY8sACBYq-4zEog798.png');\nexport default {\n  components: { BasicContainer },\n  name: 'UserLogin',\n\n  data() {\n    return {\n      backgroundImage: backgroundImage,\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n\n  created() {},\n\n  methods: {\n    submitBtn() {\n      if( this.user.username.length == 0 || this.user.username.length == 0){\n           this.$message.error('账号或密码不能为空');\n      }\n      this.axios.get(this.$root.loginUrl+\"login/\"+this.user.username+\"/\"+this.user.password)\n      .then(res => {\n        if(res.data.length == 0 || res.data == null){\n          this.$message.error('登录失败，账号或密码错误');\n        }else{\n          console.log(res.data)\n          if(res.data.infor == 0) {\n            this.$cookies.set(\"name\",res.data.email);\n            this.$cookies.set(\"uId\",res.data.uId);\n            this.$cookies.set(\"identity\",res.data.identity);\n            this.$cookies.set(\"infor\",0)\n          }else{\n            this.$cookies.set(\"uId\",res.data.uId);\n            this.$cookies.set(\"identity\",res.data.identity);\n            this.$cookies.set(\"infor\",1)\n          }\n          \n          this.$message({\n          message: '登录成功',\n          type: 'success'\n        });\n        this.$router.push({path:'/'});\n        }\n      })\n      .catch(err => {\n        console.error(err); \n        this.$message.error('登录失败，账号或密码错误');\n      })\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import './UserLogin.scss';\n</style>\n"]}]}