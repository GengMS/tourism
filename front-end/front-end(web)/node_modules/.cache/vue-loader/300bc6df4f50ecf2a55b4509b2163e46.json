{"remainingRequest":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\tourism\\front-end\\front-end\\src\\pages\\dongtai\\dongTai.vue?vue&type=style&index=0&id=9890c2a6&scoped=true&lang=css&","dependencies":[{"path":"D:\\桌面\\tourism\\front-end\\front-end\\src\\pages\\dongtai\\dongTai.vue","mtime":1619485726541},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面\\tourism\\front-end\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.dong_tai_sight {\r\n  color: rgb(39, 38, 38);\r\n  font-size: 14px;\r\n  margin: 4px 0;\r\n}\r\n.dong_tai_i > i {\r\n  cursor: pointer;\r\n}\r\n.dongtai_img_div > img {\r\n  max-height: 120px;\r\n  height: 120px;\r\n  height: 100%;\r\n  margin-right: 10px;\r\n}\r\n.dongTaiPageBody {\r\n  background: rgb(250, 250, 250);\r\n}\r\n.dongTaiPageCon {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n}\r\n.f1 {\r\n  display: flex;\r\n  align-items: center;\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  padding: 10px;\r\n}\r\n.comment_item_top {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.comment_item {\r\n  background: white;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  margin-top: 14px;\r\n}\r\n.f2 {\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n}\r\n",{"version":3,"sources":["dongTai.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dongTai.vue","sourceRoot":"src/pages/dongtai","sourcesContent":["<template>\r\n  <div>\r\n    <top></top>\r\n    <div class=\"dongTaiPageBody\">\r\n      <div class=\"dongTaiPageCon\">\r\n        <div class=\"f1\">\r\n          <el-avatar :src=\"artcle.imgUrl\"></el-avatar>\r\n          {{ artcle.userName }}\r\n        </div>\r\n        <div class=\"f2\">\r\n          <h3>{{ giveTitle() }}</h3>\r\n          <div class=\"dongtai_img_div\">\r\n            <img\r\n              v-for=\"(item1, index1) in artcle.content\"\r\n              :key=\"index1\"\r\n              :src=\"item1.content\"\r\n              v-if=\"!(item1.type == '标题')\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div v-if=\"artcle.sight.length > 0\" class=\"dong_tai_sight\">\r\n            <i class=\"el-icon-location\">{{ artcle.sight }}</i>\r\n          </div>\r\n          <div class=\"dong_tai_i\">\r\n            <i class=\"el-icon-thumb\" v-show=\"!artcle.goDot\" @click=\"increDot\">{{\r\n              artcle.dotCount\r\n            }}</i>\r\n            <i\r\n              class=\"el-icon-thumb\"\r\n              style=\"color: orange\"\r\n              v-show=\"artcle.goDot\"\r\n              @click=\"dcrDot\"\r\n              >{{ artcle.dotCount }}</i\r\n            >\r\n            &nbsp;\r\n            <i class=\"el-icon-chat-line-round\">{{ artcle.commentsCount }}</i>\r\n          </div>\r\n        </div>\r\n        <div class=\"f3\">\r\n          <div>\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              maxlength=\"150\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"commentContent\"\r\n            >\r\n            </el-input>\r\n            <div style=\"text-align:right;\">\r\n                <el-button type=\"success\" @click=\"send()\">评论</el-button>\r\n            </div>\r\n            \r\n          </div>\r\n          <div\r\n            class=\"comment_item\"\r\n            v-for=\"(item, index) in commentList\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"comment_item_top\">\r\n              <el-avatar :src=\"item.imgUrl\"></el-avatar>\r\n              {{ item.name }}\r\n            </div>\r\n            <div>\r\n              {{ item.content }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport top from \"@/components/Top/page\";\r\nexport default {\r\n  components: {\r\n    top,\r\n  },\r\n  data() {\r\n    return {\r\n      artcle: \"\",\r\n      commentList: [],\r\n      commentContent:\"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.artcle = JSON.parse(this.$route.query.artcle);\r\n    this.axios\r\n      .post(this.$root.dong_tai + \"comment/list/\" + this.artcle.dId)\r\n      .then((res) => {\r\n        this.commentList = res.data;\r\n        console.log(this.commentList);\r\n        this.commentList.forEach((element) => {\r\n          element.imgUrl = element.imgUrl.replaceAll(\"^\", \"/\");\r\n        });\r\n        this.artcle.commentsCount = this.commentList.length\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  },\r\n  methods: {\r\n    send(){\r\n        this.axios.post(this.$root.dong_tai+\"uploadComments/\"+this.artcle.dId+\"/\"+this.$cookies.get(\"uId\")+\"/\"+this.commentContent)\r\n        .then(res => {\r\n            if(res.data){\r\n                \r\n                this.artcle.commentsCount++;\r\n                let data = {\r\n                    uId:this.$cookies.get(\"uId\"),\r\n                    name: this.$cookies.get(\"name\"),\r\n                    imgUrl : this.$cookies.get(\"imgUrl\").replaceAll(\"^\",\"/\"),\r\n                    content: this.commentContent\r\n                }\r\n                this.commentList.unshift(data)\r\n                this.commentContent = \"\"\r\n            }else{\r\n                this.$message.error(\"评论内容请不要携带特殊字符\")\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.error(err); \r\n            this.$message.error(\"评论内容请不要携带特殊字符\")\r\n        })\r\n    },\r\n    giveTitle() {\r\n      for (let i = 0; i < this.artcle.content.length; i++) {\r\n        if (this.artcle.content[i].type == \"标题\") {\r\n          var title = this.artcle.content[i].content;\r\n          return title;\r\n        }\r\n      }\r\n    },\r\n    increDot() {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"/increDot/\" +\r\n            this.artcle.dId +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.artcle.dotCount++;\r\n            this.artcle.goDot = true;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    dcrDot() {\r\n      this.axios\r\n        .post(\r\n          this.$root.dong_tai +\r\n            \"/decDot/\" +\r\n            this.artcle.dId +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.artcle.dotCount--;\r\n            this.artcle.goDot = false;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dong_tai_sight {\r\n  color: rgb(39, 38, 38);\r\n  font-size: 14px;\r\n  margin: 4px 0;\r\n}\r\n.dong_tai_i > i {\r\n  cursor: pointer;\r\n}\r\n.dongtai_img_div > img {\r\n  max-height: 120px;\r\n  height: 120px;\r\n  height: 100%;\r\n  margin-right: 10px;\r\n}\r\n.dongTaiPageBody {\r\n  background: rgb(250, 250, 250);\r\n}\r\n.dongTaiPageCon {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n}\r\n.f1 {\r\n  display: flex;\r\n  align-items: center;\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  padding: 10px;\r\n}\r\n.comment_item_top {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.comment_item {\r\n  background: white;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  margin-top: 14px;\r\n}\r\n.f2 {\r\n  background: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n}\r\n</style>"]}]}