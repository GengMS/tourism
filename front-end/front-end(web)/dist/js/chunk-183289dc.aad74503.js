(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-183289dc"],{"0f6f":function(t,e,i){"use strict";i("ef0e")},"928c":function(t,e,i){"use strict";i("b827")},b009:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"infor"},[i("div",{staticClass:"infor_f1"},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:81/upload/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.infor.imgUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),i("div",[i("el-input",{attrs:{type:"text",maxlength:"10"},model:{value:t.infor.name,callback:function(e){t.$set(t.infor,"name",e)},expression:"infor.name"}})],1)],1),i("div",[i("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"我的签名",minlength:"4",maxlength:"50"},model:{value:t.infor.theSay,callback:function(e){t.$set(t.infor,"theSay",e)},expression:"infor.theSay"}})],1),i("div",[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.send()}}},[t._v(" 修改 ")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.show}},[t._v("取消")])],1)])},s=[],n={name:"infor",props:["imageUrl","name"],data:function(){return{infor:{uId:"",theSay:"",imgUrl:"",name:""}}},methods:{send:function(){var t=this;if(this.infor.name.length<4)this.$message.error("名字长度不能少于4位");else if(this.infor.name.match("[//,?]"))this.$message.error("名字中不能包含特殊字符（/,?）");else{this.infor.uId=this.$cookies.get("uId");var e=this.infor.imgUrl;this.infor.imgUrl=this.infor.imgUrl.replaceAll("/","^");var i=JSON.stringify(this.infor),o=this;this.axios.post(this.$root.loginUrl+"updateUserInfor/"+i).then((function(i){console.log(i),i.data?(t.$cookies.set("name",o.infor.name),t.$cookies.set("imgUrl",e),t.$cookies.set("infor",1),t.$cookies.set("qian",t.infor.theSay),t.$parent.imgUrl=e,t.$parent.name=o.infor.name,t.$message({message:"修改 成功",type:"success"}),t.$parent.inforShow=!1):t.$message.error("修改失败")})).catch((function(e){o.infor.imgUrl=t.$cookies.get("imgUrl").replaceAll("%","/"),t.$message.error("修改失败"),console.error(e)}))}},show:function(){this.$parent.inforShow=!1},handleAvatarSuccess:function(t,e){console.log(t),this.infor.imgUrl=t},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,i=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&i}},mounted:function(){this.$cookies.isKey("qian")&&(this.infor.theSay=this.$cookies.get("qian")),this.$cookies.isKey("imgUrl")?this.infor.imgUrl=this.$cookies.get("imgUrl").replaceAll("^","/"):this.infor.imgUrl=this.imageUrl,this.$cookies.isKey("name")&&(this.infor.name=this.$cookies.get("name"))}},a=n,r=(i("0f6f"),i("2877")),l=Object(r["a"])(a,o,s,!1,null,null,null);e["a"]=l.exports},b827:function(t,e,i){},ef0e:function(t,e,i){},f75a:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"top"},[i("div",{staticClass:"top_container"},[i("div",{staticClass:"top_left"},[i("h2",[t._v("通了旅游")]),i("h3",[i("router-link",{attrs:{tag:"a",to:"/tours"}},[t._v("跟团游")])],1),i("h3",[i("router-link",{attrs:{tag:"a",to:"/lvtu"}},[t._v("我的旅图")])],1),i("h3",[i("router-link",{attrs:{tag:"a",to:"/dongtai"}},[t._v("旅态")])],1)]),i("div",{staticClass:"top_right"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.loginIsShow,expression:"!loginIsShow"}],staticClass:"login_and_show"},[i("el-avatar",{attrs:{src:t.imgUrl}}),t._v(",\n          "+t._s(t.name)+"\n          "),i("div",[i("div",{on:{click:function(e){t.inforShow=!0}}},[t._v("修改信息")]),i("hr"),i("div",{on:{click:t.toLogin}},[t._v("退出")])])],1),t.inforShow?i("infor",{attrs:{name:t.name,imageUrl:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}):t._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:t.loginIsShow,expression:"loginIsShow"}]},[i("router-link",{attrs:{tag:"span",to:"/registy"}},[t._v("注册")]),i("span",[t._v(" | ")]),i("router-link",{attrs:{tag:"span",to:"/login"}},[t._v("登录")])],1)],1)]),i("div",{staticClass:"f2"},[i("el-carousel",{style:{height:t.height}},t._l(t.dataList,(function(e,o){return i("el-carousel-item",{key:o},[i("a",{staticClass:"index_title",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.tiao(o)}}},[t._v("\n            "+t._s(e.title)+"\n          ")]),i("img",{attrs:{src:e.imgUrl,alt:""}})])})),1)],1)])])},s=[],n=i("b009"),a={components:{infor:n["a"]},data:function(){return{imgData:["https://b1-q.mafengwo.net/s15/M00/0F/5F/CoUBGV28HDuALpzxABR490kDN0M39.jpeg","https://p1-q.mafengwo.net/s18/M00/F7/ED/CoUBYGBltqiAAEKXACgIIPDwhDs155.png?imageView2%2F2%2Fw%2F1920%2Fq%2F90%2Fformat%2Fjpeg"],height:"",loginIsShow:!0,name:"",inforShow:!1,imgUrl:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",dataList:[{title:"欢迎您",imgUrl:"https://p1-q.mafengwo.net/s18/M00/F7/ED/CoUBYGBltqiAAEKXACgIIPDwhDs155.png?imageView2%2F2%2Fw%2F1920%2Fq%2F90%2Fformat%2Fjpeg"}],inforData:[]}},mounted:function(){var t=document.documentElement.clientHeight;if(this.height=t+"px",null==this.$cookies.get("uId"))this.loginIsShow=!0;else{var e=this;this.loginIsShow=!1,0==this.$cookies.get("infor")?this.name=this.$cookies.get("name"):(this.name=this.$cookies.get("name"),e.imgUrl=this.$cookies.get("imgUrl").replaceAll("^","/"))}this.getData()},methods:{tiao:function(t){this.inforData.length<=0||this.$router.push({path:"/TeamInforPage",query:{item:JSON.stringify(this.inforData[t])}})},toLogin:function(){this.$router.push({path:"/login"})},getData:function(){var t=this;this.axios.post(this.$root.team+"listHomePageShow").then((function(e){e.data.length<=0||(t.dataList=e.data,t.getInforData())})).catch((function(t){console.error(t)}))},getInforData:function(){var t=this;this.dataList.forEach((function(e){t.axios.post(t.$root.team+"getTeamInfor/"+e.tId).then((function(e){t.inforData.push(e.data),console.log(t.inforData)})).catch((function(t){console.error(t)}))}))}}},r=a,l=(i("928c"),i("2877")),c=Object(l["a"])(r,o,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-183289dc.aad74503.js.map