{"version":3,"sources":["webpack:///./src/components/inforManage/page.vue?88d4","webpack:///./src/pages/index/index.vue?b97b","webpack:///./src/components/inforManage/page.vue?66b1","webpack:///src/components/inforManage/page.vue","webpack:///./src/components/inforManage/page.vue?d8f6","webpack:///./src/components/inforManage/page.vue","webpack:///./src/pages/index/index.vue?4490","webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?d479","webpack:///./src/pages/index/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","handleAvatarSuccess","beforeAvatarUpload","infor","imgUrl","model","value","callback","$$v","$set","expression","on","$event","send","_v","show","staticRenderFns","name","props","data","uId","theSay","methods","length","$message","error","$cookies","get","replaceAll","axios","$parent","inforShow","console","log","res","isJPG","isLt2M","mounted","isKey","imageUrl","component","directives","rawName","loginIsShow","_s","toLogin","_e","style","height","_l","item","index","key","preventDefault","tiao","title","components","imgData","dataList","inforData","a","that","getData","path","query","JSON","stringify","$router","push","getInforData","forEach"],"mappings":"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","file":"js/chunk-183289dc.aad74503.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"infor\"},[_c('div',{staticClass:\"infor_f1\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:81/upload/\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.infor.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('div',[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"10\"},model:{value:(_vm.infor.name),callback:function ($$v) {_vm.$set(_vm.infor, \"name\", $$v)},expression:\"infor.name\"}})],1)],1),_c('div',[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"我的签名\",\"minlength\":\"4\",\"maxlength\":\"50\"},model:{value:(_vm.infor.theSay),callback:function ($$v) {_vm.$set(_vm.infor, \"theSay\", $$v)},expression:\"infor.theSay\"}})],1),_c('div',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.send()}}},[_vm._v(\" 修改 \")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.show}},[_vm._v(\"取消\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"infor\">\r\n    <div class=\"infor_f1\">\r\n      <el-upload\r\n        class=\"avatar-uploader\"\r\n        action=\"http://localhost:81/upload/\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      >\r\n        <img v-if=\"imageUrl\" :src=\"infor.imgUrl\" class=\"avatar\" />\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload>\r\n\r\n      <div>\r\n        <el-input type=\"text\" v-model=\"infor.name\" maxlength=\"10\"></el-input>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-input\r\n        type=\"textarea\"\r\n        autosize\r\n        placeholder=\"我的签名\"\r\n        v-model=\"infor.theSay\"\r\n        minlength=\"4\"\r\n        maxlength=\"50\"\r\n      >\r\n      </el-input>\r\n    </div>\r\n    <div>\r\n      <el-button size=\"small\" type=\"success\" @click=\"send()\"> 修改 </el-button>\r\n      <el-button size=\"small\" type=\"primary\" @click=\"show\">取消</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"infor\",\r\n  props: [\"imageUrl\", \"name\"],\r\n  data() {\r\n    return {\r\n      infor: {\r\n        uId: \"\",\r\n        theSay: \"\",\r\n        imgUrl: \"\",\r\n        name: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    send() {\r\n      if (this.infor.name.length < 4) {\r\n        this.$message.error(\"名字长度不能少于4位\");\r\n        return;\r\n      } else if (this.infor.name.match(\"[//,?]\")) {\r\n        this.$message.error(\"名字中不能包含特殊字符（/,?）\");\r\n        return;\r\n      }\r\n      this.infor.uId = this.$cookies.get(\"uId\");\r\n      let imgUrl1 = this.infor.imgUrl;\r\n      this.infor.imgUrl = this.infor.imgUrl.replaceAll(\"/\", \"^\");\r\n      let infor = JSON.stringify(this.infor);\r\n      \r\n      let that = this;\r\n      this.axios\r\n        .post(this.$root.loginUrl + \"updateUserInfor/\" + infor)\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.data) {\r\n            \r\n            //改，因为没有修改数据会被判别为空，然后导致数据失效\r\n            this.$cookies.set(\"name\", that.infor.name);\r\n            this.$cookies.set(\"imgUrl\", imgUrl1);\r\n            this.$cookies.set(\"infor\", 1);\r\n            this.$cookies.set(\"qian\", this.infor.theSay);\r\n            this.$parent.imgUrl = imgUrl1;\r\n            this.$parent.name = that.infor.name\r\n             //改，因为没有修改数据会被判别为空，然后导致数据失效\r\n            this.$message({\r\n              message: \"修改 成功\",\r\n              type: \"success\",\r\n            });\r\n            this.$parent.inforShow = false;\r\n          } else {\r\n            this.$message.error(\"修改失败\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          that.infor.imgUrl = this.$cookies.get(\"imgUrl\").replaceAll(\"%\",\"/\");\r\n          this.$message.error(\"修改失败\");\r\n          console.error(err);\r\n        });\r\n    },\r\n    show() {\r\n      this.$parent.inforShow = false;\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      console.log(res);\r\n      this.infor.imgUrl = res;\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.$cookies.isKey(\"qian\")) {\r\n      this.infor.theSay = this.$cookies.get(\"qian\");\r\n    }\r\n    if (this.$cookies.isKey(\"imgUrl\")) {\r\n      this.infor.imgUrl = this.$cookies.get(\"imgUrl\").replaceAll(\"^\",\"/\");\r\n    }else{\r\n      \r\n      this.infor.imgUrl = this.imageUrl\r\n    }\r\n    if(this.$cookies.isKey(\"name\")) {\r\n      this.infor.name = this.$cookies.get(\"name\")\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.infor_f1 {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.infor {\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%);\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n.infor > div {\r\n  margin-top: 10px;\r\n}\r\n.infor > div:nth-child(3) {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 50px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n}\r\n.infor .avatar {\r\n  width: 50px !important;\r\n  height: 50px !important;\r\n  display: block !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=1e105a3e&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top_container\"},[_c('div',{staticClass:\"top_left\"},[_c('h2',[_vm._v(\"通了旅游\")]),_c('h3',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":\"/tours\"}},[_vm._v(\"跟团游\")])],1),_c('h3',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":\"/lvtu\"}},[_vm._v(\"我的旅图\")])],1),_c('h3',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":\"/dongtai\"}},[_vm._v(\"旅态\")])],1)]),_c('div',{staticClass:\"top_right\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loginIsShow),expression:\"!loginIsShow\"}],staticClass:\"login_and_show\"},[_c('el-avatar',{attrs:{\"src\":_vm.imgUrl}}),_vm._v(\",\\n          \"+_vm._s(_vm.name)+\"\\n          \"),_c('div',[_c('div',{on:{\"click\":function($event){_vm.inforShow = true}}},[_vm._v(\"修改信息\")]),_c('hr'),_c('div',{on:{\"click\":_vm.toLogin}},[_vm._v(\"退出\")])])],1),(_vm.inforShow)?_c('infor',{attrs:{\"name\":_vm.name,\"imageUrl\":'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'}}):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginIsShow),expression:\"loginIsShow\"}]},[_c('router-link',{attrs:{\"tag\":\"span\",\"to\":\"/registy\"}},[_vm._v(\"注册\")]),_c('span',[_vm._v(\" | \")]),_c('router-link',{attrs:{\"tag\":\"span\",\"to\":\"/login\"}},[_vm._v(\"登录\")])],1)],1)]),_c('div',{staticClass:\"f2\"},[_c('el-carousel',{style:({ height: _vm.height })},_vm._l((_vm.dataList),function(item,index){return _c('el-carousel-item',{key:index},[_c('a',{staticClass:\"index_title\",attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.tiao(index)}}},[_vm._v(\"\\n            \"+_vm._s(item.title)+\"\\n          \")]),_c('img',{attrs:{\"src\":item.imgUrl,\"alt\":\"\"}})])}),1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"top\">\r\n      <div class=\"top_container\">\r\n        <div class=\"top_left\">\r\n          <h2>通了旅游</h2>\r\n          <h3>\r\n            <router-link tag=\"a\" to=\"/tours\">跟团游</router-link>\r\n          </h3>\r\n          <h3>\r\n            <router-link tag=\"a\" to=\"/lvtu\">我的旅图</router-link>\r\n          </h3>\r\n          <h3>\r\n            <router-link tag=\"a\" to=\"/dongtai\">旅态</router-link>\r\n          </h3>\r\n        </div>\r\n        <div class=\"top_right\">\r\n          <span v-show=\"!loginIsShow\" class=\"login_and_show\">\r\n            <el-avatar :src=\"imgUrl\"></el-avatar>,\r\n            {{ name }}\r\n            <div>\r\n              <div @click=\"inforShow = true\">修改信息</div>\r\n              <hr />\r\n              <div @click=\"toLogin\">退出</div>\r\n            </div>\r\n          </span>\r\n          <infor\r\n            v-if=\"inforShow\"\r\n            :name=\"name\"\r\n            :imageUrl=\"'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'\"\r\n          ></infor>\r\n          <span v-show=\"loginIsShow\">\r\n            <router-link tag=\"span\" to=\"/registy\">注册</router-link>\r\n            <span> | </span>\r\n            <router-link tag=\"span\" to=\"/login\">登录</router-link>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"f2\">\r\n        <el-carousel :style=\"{ height: height }\">\r\n          <el-carousel-item v-for=\"(item, index) in dataList\" :key=\"index\">\r\n            <a href=\"\" @click.prevent=\"tiao(index)\" class=\"index_title\">\r\n              {{ item.title }}\r\n            </a>\r\n           \r\n            <img :src=\"item.imgUrl\" alt=\"\" />\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport infor from \"@/components/inforManage/page\";\r\nexport default {\r\n  components: {\r\n    infor,\r\n  },\r\n  data() {\r\n    return {\r\n      imgData: [\r\n        \"https://b1-q.mafengwo.net/s15/M00/0F/5F/CoUBGV28HDuALpzxABR490kDN0M39.jpeg\",\r\n        \"https://p1-q.mafengwo.net/s18/M00/F7/ED/CoUBYGBltqiAAEKXACgIIPDwhDs155.png?imageView2%2F2%2Fw%2F1920%2Fq%2F90%2Fformat%2Fjpeg\",\r\n      ],\r\n      height: \"\",\r\n      loginIsShow: true,\r\n      name: \"\",\r\n      inforShow: false,\r\n      imgUrl:\r\n        \"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\",\r\n      dataList: [\r\n         {\r\n          title:\"欢迎您\",\r\n          imgUrl:\"https://p1-q.mafengwo.net/s18/M00/F7/ED/CoUBYGBltqiAAEKXACgIIPDwhDs155.png?imageView2%2F2%2Fw%2F1920%2Fq%2F90%2Fformat%2Fjpeg\"\r\n        }\r\n      ],\r\n      inforData: [\r\n       \r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    let a = document.documentElement.clientHeight;\r\n    this.height = a + \"px\";\r\n    if (this.$cookies.get(\"uId\") == null) {\r\n      this.loginIsShow = true;\r\n    } else {\r\n      let that = this;\r\n      this.loginIsShow = false;\r\n      if (this.$cookies.get(\"infor\") == 0) {\r\n        this.name = this.$cookies.get(\"name\");\r\n      } else {\r\n        this.name = this.$cookies.get(\"name\");\r\n        that.imgUrl = this.$cookies.get(\"imgUrl\").replaceAll(\"^\", \"/\");\r\n      }\r\n    }\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    tiao(index) {\r\n      \r\n      if(this.inforData.length <= 0){\r\n         return;\r\n      }\r\n       this.$router.push({\r\n        path: \"/TeamInforPage\",\r\n        query: {\r\n          item: JSON.stringify(this.inforData[index]),\r\n        },\r\n      });\r\n    },\r\n    toLogin() {\r\n      this.$router.push({ path: \"/login\" });\r\n    },\r\n    getData() {\r\n      \r\n      this.axios\r\n        .post(this.$root.team + \"listHomePageShow\")\r\n        .then((res) => {\r\n          if(res.data.length<=0){\r\n\r\n          }else{\r\n             this.dataList = res.data;\r\n             this.getInforData();\r\n          }\r\n         \r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    getInforData() {\r\n      this.dataList.forEach((element) => {\r\n        this.axios\r\n          .post(this.$root.team + \"getTeamInfor/\" + element.tId)\r\n          .then((res) => {\r\n            this.inforData.push(res.data);\r\n            console.log(this.inforData);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style >\r\n.f2 {\r\n}\r\n.top {\r\n  height: 80px;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.top_container {\r\n  color: white;\r\n  width: 86%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  height: 100%;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  z-index: 299;\r\n}\r\n.top_right > span:nth-child(1),\r\n.top_right > span:nth-child(3) {\r\n  color: orange;\r\n  cursor: pointer;\r\n}\r\n.top_left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.top_left * {\r\n  margin-right: 20px;\r\n}\r\n.f2 > img {\r\n  height: 100%;\r\n}\r\n.el-carousel__container {\r\n  height: 800px;\r\n}\r\n.el-carousel__container img {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.index_title {\r\n  position: absolute;\r\n  left: 10%;\r\n  top: 140px;\r\n  z-index: 99999999;\r\n  color: white;\r\n  font-size: 40px;\r\n}\r\n.el-carousel {\r\n  overflow: hidden;\r\n}\r\n.login_and_show {\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n.login_and_show > div {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: -99999;\r\n  width: 100%;\r\n  height: 80px;\r\n  background: rgb(251, 250, 250);\r\n  border-radius: 4px;\r\n  transition: all 0.6s ease-out;\r\n  visibility: hidden;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  color: orange;\r\n  text-align: center;\r\n  padding: 6px;\r\n}\r\n.login_and_show > div > div {\r\n  height: 34px;\r\n  line-height: 34px;\r\n  cursor: pointer;\r\n}\r\n.login_and_show:hover > div {\r\n  top: 60px;\r\n  visibility: visible;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8f765c80&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}