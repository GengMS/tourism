{"version":3,"sources":["webpack:///./src/components/inforManage/page.vue?88d4","webpack:///./src/pages/LvTu/page.vue?43d7","webpack:///./src/components/Top/page.vue?1d2f","webpack:///src/components/Top/page.vue","webpack:///./src/components/Top/page.vue?459a","webpack:///./src/components/Top/page.vue","webpack:///./src/components/Top/page.vue?827f","webpack:///./src/components/inforManage/page.vue?66b1","webpack:///src/components/inforManage/page.vue","webpack:///./src/components/inforManage/page.vue?d8f6","webpack:///./src/components/inforManage/page.vue","webpack:///./src/pages/LvTu/page.vue?076b","webpack:///src/pages/LvTu/page.vue","webpack:///./src/pages/LvTu/page.vue?e67a","webpack:///./src/pages/LvTu/page.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","loginIsShow","_e","imgUrl","_s","name","on","$event","inforShow","toLogin","directives","rawName","value","expression","staticRenderFns","components","infor","data","mounted","$cookies","get","that","replaceAll","console","log","methods","$router","push","component","handleAvatarSuccess","beforeAvatarUpload","model","callback","$$v","$set","send","show","props","uId","theSay","length","$message","error","axios","$parent","res","isJPG","isLt2M","isKey","imageUrl","style","height","tiao","_l","item","index","key","item1","index1","delImg","i_id","img_url","top","imgList","imgListKeys","beforeMount","a","search"],"mappings":"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","file":"js/chunk-caa6518e.aabd7839.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top_container\"},[_c('div',{staticClass:\"top_left\"},[_c('router-link',{attrs:{\"tag\":\"h2\",\"to\":\"/\"}},[_vm._v(\"通了旅游\")]),_c('h3',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":\"/tours\"}},[_vm._v(\"跟团游\")])],1),_c('h3',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":\"/lvtu\"}},[_vm._v(\"我的旅图\")])],1),_c('h3',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":\"/dongtai\"}},[_vm._v(\"旅态\")])],1)],1),_c('div',{staticClass:\"top_right\"},[(!_vm.loginIsShow)?_c('div',{staticClass:\"login_and_show\"},[_c('el-avatar',{attrs:{\"src\":_vm.imgUrl}}),_vm._v(\",\\n        \"+_vm._s(_vm.name)+\"\\n        \"),_c('div',[_c('div',{on:{\"click\":function($event){_vm.inforShow = true}}},[_vm._v(\"修改信息\")]),_c('hr'),_c('div',{on:{\"click\":_vm.toLogin}},[_vm._v(\"退出\")])])],1):_vm._e(),_c('infor',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.inforShow),expression:\"inforShow\"}],attrs:{\"name\":_vm.name,\"imageUrl\":_vm.imgUrl}}),(_vm.loginIsShow)?_c('div',[_c('router-link',{attrs:{\"tag\":\"span\",\"to\":\"/registy\"}},[_vm._v(\"注册\")]),_c('span',[_vm._v(\" | \")]),_c('router-link',{attrs:{\"tag\":\"span\",\"to\":\"/login\"}},[_vm._v(\"登录\")])],1):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"top\">\r\n    <div class=\"top_container\">\r\n      <div class=\"top_left\">\r\n        <router-link tag=\"h2\" to=\"/\">通了旅游</router-link>\r\n\r\n        <h3>\r\n          <router-link tag=\"a\" to=\"/tours\">跟团游</router-link>\r\n        </h3>\r\n        <h3>\r\n          <router-link tag=\"a\" to=\"/lvtu\">我的旅图</router-link>\r\n        </h3>\r\n        <h3>\r\n          <router-link tag=\"a\" to=\"/dongtai\">旅态</router-link>\r\n        </h3>\r\n      </div>\r\n      <div class=\"top_right\">\r\n        <div v-if=\"!loginIsShow\" class=\"login_and_show\">\r\n          <el-avatar\r\n            :src=\"imgUrl\"\r\n          ></el-avatar\r\n          >,\r\n          {{ name }}\r\n          <div>\r\n            <div @click=\"inforShow = true\">修改信息</div>\r\n            <hr />\r\n            <div @click=\"toLogin\">退出</div>\r\n          </div>\r\n        </div>\r\n        <infor\r\n          v-show=\"inforShow\"\r\n          :name=\"name\"\r\n          :imageUrl=\"imgUrl\"\r\n        ></infor>\r\n        <div v-if=\"loginIsShow\">\r\n          <router-link tag=\"span\" to=\"/registy\">注册</router-link>\r\n          <span> | </span>\r\n          <router-link tag=\"span\" to=\"/login\">登录</router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport infor from \"@/components/inforManage/page\";\r\nexport default {\r\n  components: {\r\n    infor,\r\n  },\r\n  data() {\r\n    return {\r\n      loginIsShow: true,\r\n      name: \"\",\r\n      inforShow: false,\r\n      imgUrl:\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"\r\n    };\r\n  },\r\n  mounted() {\r\n    if (\r\n      this.$cookies.get(\"uId\").length == 0 ||\r\n      this.$cookies.get(\"uId\") == null\r\n    ) {\r\n      this.loginIsShow = true;\r\n    } else {\r\n      let that = this;\r\n      this.loginIsShow = false;\r\n      if (this.$cookies.get(\"infor\") == 0) {\r\n        this.name = this.$cookies.get(\"name\");\r\n      }else{\r\n        this.name = this.$cookies.get(\"name\");\r\n        that.imgUrl = this.$cookies.get(\"imgUrl\").replaceAll(\"^\",\"/\")\r\n        console.log(this.imgUrl)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toLogin() {\r\n      this.$router.push({ path: \"/login\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top {\r\n  height: 80px;\r\n  position: relative;\r\n  width: 100%;\r\n  background: #ffffff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  border-bottom-left-radius: 10px;\r\n  border-bottom-right-radius: 10px;\r\n}\r\n.top_container {\r\n  color: gray;\r\n  width: 86%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  height: 100%;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  z-index: 299;\r\n}\r\n.top_right > span:nth-child(1),\r\n.top_right > span:nth-child(3) {\r\n  color: orange;\r\n  cursor: pointer;\r\n}\r\n.top_left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.top_left * {\r\n  margin-right: 20px;\r\n}\r\n.login_and_show {\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n.login_and_show > div {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: -99999;\r\n  width: 100%;\r\n  height: 80px;\r\n  background: rgb(251, 250, 250);\r\n  border-radius: 4px;\r\n  transition: all 0.6s ease-out;\r\n  visibility: hidden;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  color: orange;\r\n  text-align: center;\r\n  padding: 6px;\r\n}\r\n.login_and_show > div > div {\r\n  height: 34px;\r\n  line-height: 34px;\r\n  cursor: pointer;\r\n}\r\n.login_and_show:hover > div {\r\n  top: 60px;\r\n  visibility: visible;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=54de3c6b&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=54de3c6b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54de3c6b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=54de3c6b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"infor\"},[_c('div',{staticClass:\"infor_f1\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:81/upload/\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.infor.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('div',[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"10\"},model:{value:(_vm.infor.name),callback:function ($$v) {_vm.$set(_vm.infor, \"name\", $$v)},expression:\"infor.name\"}})],1)],1),_c('div',[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"我的签名\",\"minlength\":\"4\",\"maxlength\":\"50\"},model:{value:(_vm.infor.theSay),callback:function ($$v) {_vm.$set(_vm.infor, \"theSay\", $$v)},expression:\"infor.theSay\"}})],1),_c('div',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.send()}}},[_vm._v(\" 修改 \")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.show}},[_vm._v(\"取消\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"infor\">\r\n    <div class=\"infor_f1\">\r\n      <el-upload\r\n        class=\"avatar-uploader\"\r\n        action=\"http://localhost:81/upload/\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      >\r\n        <img v-if=\"imageUrl\" :src=\"infor.imgUrl\" class=\"avatar\" />\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload>\r\n\r\n      <div>\r\n        <el-input type=\"text\" v-model=\"infor.name\" maxlength=\"10\"></el-input>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-input\r\n        type=\"textarea\"\r\n        autosize\r\n        placeholder=\"我的签名\"\r\n        v-model=\"infor.theSay\"\r\n        minlength=\"4\"\r\n        maxlength=\"50\"\r\n      >\r\n      </el-input>\r\n    </div>\r\n    <div>\r\n      <el-button size=\"small\" type=\"success\" @click=\"send()\"> 修改 </el-button>\r\n      <el-button size=\"small\" type=\"primary\" @click=\"show\">取消</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"infor\",\r\n  props: [\"imageUrl\", \"name\"],\r\n  data() {\r\n    return {\r\n      infor: {\r\n        uId: \"\",\r\n        theSay: \"\",\r\n        imgUrl: \"\",\r\n        name: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    send() {\r\n      if (this.infor.name.length < 4) {\r\n        this.$message.error(\"名字长度不能少于4位\");\r\n        return;\r\n      } else if (this.infor.name.match(\"[//,?]\")) {\r\n        this.$message.error(\"名字中不能包含特殊字符（/,?）\");\r\n        return;\r\n      }\r\n      this.infor.uId = this.$cookies.get(\"uId\");\r\n      let imgUrl1 = this.infor.imgUrl;\r\n      this.infor.imgUrl = this.infor.imgUrl.replaceAll(\"/\", \"^\");\r\n      let infor = JSON.stringify(this.infor);\r\n      \r\n      let that = this;\r\n      this.axios\r\n        .post(this.$root.loginUrl + \"updateUserInfor/\" + infor)\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.data) {\r\n            \r\n            //改，因为没有修改数据会被判别为空，然后导致数据失效\r\n            this.$cookies.set(\"name\", that.infor.name);\r\n            this.$cookies.set(\"imgUrl\", imgUrl1);\r\n            this.$cookies.set(\"infor\", 1);\r\n            this.$cookies.set(\"qian\", this.infor.theSay);\r\n            this.$parent.imgUrl = imgUrl1;\r\n            this.$parent.name = that.infor.name\r\n             //改，因为没有修改数据会被判别为空，然后导致数据失效\r\n            this.$message({\r\n              message: \"修改 成功\",\r\n              type: \"success\",\r\n            });\r\n            this.$parent.inforShow = false;\r\n          } else {\r\n            this.$message.error(\"修改失败\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          that.infor.imgUrl = this.$cookies.get(\"imgUrl\").replaceAll(\"%\",\"/\");\r\n          this.$message.error(\"修改失败\");\r\n          console.error(err);\r\n        });\r\n    },\r\n    show() {\r\n      this.$parent.inforShow = false;\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      console.log(res);\r\n      this.infor.imgUrl = res;\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.$cookies.isKey(\"qian\")) {\r\n      this.infor.theSay = this.$cookies.get(\"qian\");\r\n    }\r\n    if (this.$cookies.isKey(\"imgUrl\")) {\r\n      this.infor.imgUrl = this.$cookies.get(\"imgUrl\").replaceAll(\"^\",\"/\");\r\n    }else{\r\n      \r\n      this.infor.imgUrl = this.imageUrl\r\n    }\r\n    if(this.$cookies.isKey(\"name\")) {\r\n      this.infor.name = this.$cookies.get(\"name\")\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.infor_f1 {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.infor {\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%);\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n.infor > div {\r\n  margin-top: 10px;\r\n}\r\n.infor > div:nth-child(3) {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 50px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n}\r\n.infor .avatar {\r\n  width: 50px !important;\r\n  height: 50px !important;\r\n  display: block !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=1e105a3e&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('top'),_c('div',{staticClass:\"lvtu\",style:({ height: _vm.height })},[_c('div',{staticClass:\"lvtu_left\"},[_c('div',{staticClass:\"lvtu_left_logo\"},[_vm._v(\"旅图\")]),_c('div',{staticClass:\"lvtu_upload\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:81/upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imgUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"}),_c('h5',[_vm._v(\"上传我的图片\")])])],1),_c('div',{staticClass:\"lvtu_left_bottom\"},[_c('a',{staticClass:\"go_show\",attrs:{\"tag\":\"a\"},on:{\"click\":_vm.tiao}},[_vm._v(\"查看我的图片墙\\n          \"),_c('br'),_c('span',[_vm._v(\"可以把你的图片墙链接分享给你的好友呦\")])])])]),_c('div',{staticClass:\"lvtu_right\"},_vm._l((_vm.imgList),function(item,index){return _c('div',{key:index},[_c('h3',[_vm._v(_vm._s(index))]),_c('div',{staticClass:\"lv_tu_imgList\"},_vm._l((item),function(item1,index1){return _c('div',{key:index1},[_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.delImg(item1.i_id)}}}),_c('vue-viewer',{attrs:{\"thumb\":item1.img_url.replaceAll('^', '/'),\"full\":item1.img_url.replaceAll('^', '/')}})],1)}),0),_c('hr')])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <top></top>\r\n    <div class=\"lvtu\" :style=\"{ height: height }\">\r\n      <div class=\"lvtu_left\">\r\n        <div class=\"lvtu_left_logo\">旅图</div>\r\n        <div class=\"lvtu_upload\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"http://localhost:81/upload\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img v-if=\"imgUrl\" :src=\"imgUrl\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            <h5>上传我的图片</h5>\r\n          </el-upload>\r\n        </div>\r\n        <div class=\"lvtu_left_bottom\">\r\n          <a tag=\"a\" @click=\"tiao\" class=\"go_show\"\r\n            >查看我的图片墙\r\n            <br />\r\n            <span>可以把你的图片墙链接分享给你的好友呦</span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"lvtu_right\">\r\n        <div v-for=\"(item, index) in imgList\" :key=\"index\">\r\n          <h3>{{ index }}</h3>\r\n\r\n          <div class=\"lv_tu_imgList\">\r\n            <div v-for=\"(item1, index1) in item\" :key=\"index1\">\r\n              <i class=\"el-icon-close\" @click=\"delImg(item1.i_id)\"></i>\r\n              <vue-viewer\r\n                :thumb=\"item1.img_url.replaceAll('^', '/')\"\r\n                :full=\"item1.img_url.replaceAll('^', '/')\"\r\n              >\r\n              </vue-viewer>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport top from \"@/components/Top/page\";\r\nexport default {\r\n  components: {\r\n    top,\r\n  },\r\n  data() {\r\n    return {\r\n      imgUrl: \"\",\r\n      height: \"\",\r\n      imgList: \"\",\r\n      imgListKeys: \"\",\r\n    };\r\n  },\r\n  beforeMount() {\r\n    let a = document.documentElement.clientHeight - 80;\r\n    this.height = a + \"px\";\r\n  },\r\n  mounted() {\r\n    this.search();\r\n  },\r\n  methods: {\r\n    tiao() {\r\n      this.$router.push({ path: `/show/${this.$cookies.get(\"uId\")}` });\r\n    },\r\n    delImg(id) {\r\n      this.axios\r\n        .post(this.$root.lv_tu + \"delImg/\" + id)\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.search();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    search() {\r\n      this.axios\r\n        .post(this.$root.lv_tu + \"listImgByDate/\" + this.$cookies.get(\"uId\"))\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.imgList = res.data;\r\n          this.imgListKeys = Object.keys(res.data);\r\n\r\n          console.log(this.imgListKeys);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      this.imgUrl = res;\r\n      let imageUrl = res.replaceAll(\"/\", \"^\");\r\n      this.axios\r\n        .post(\r\n          this.$root.lv_tu +\r\n            \"saveImg/\" +\r\n            imageUrl +\r\n            \"/\" +\r\n            this.$cookies.get(\"uId\")\r\n        )\r\n        .then((res) => {\r\n          this.search();\r\n          console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.lvtu {\r\n  display: flex;\r\n  height: 100%;\r\n}\r\n.lvtu_left {\r\n  position: relative;\r\n  width: 20%;\r\n  padding: 10px;\r\n}\r\n.lvtu_right {\r\n  width: 80%;\r\n  border-left: 1px solid black;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n}\r\n.lvtu_left_logo {\r\n  font-family: \"Courier New\", Courier, monospace;\r\n  color: orange;\r\n  font-weight: bold;\r\n  font-style: oblique;\r\n  text-align: center;\r\n  font-size: 30px;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader img {\r\n  width: 178px !important;\r\n  height: 178px !important;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px !important;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n.lvtu_upload {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 20px 0;\r\n}\r\n.lvtu_left_bottom {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n  width: 100%;\r\n}\r\n.lv_tu_imgList {\r\n  display: flex;\r\n}\r\n\r\n.lv_tu_imgList > div {\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n.lv_tu_imgList > div:hover > i {\r\n  visibility: visible;\r\n}\r\n.lv_tu_imgList > div > i {\r\n  position: absolute;\r\n  visibility: hidden;\r\n  top: 0px;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  color: white;\r\n}\r\n.lv_tu_imgList img {\r\n  width: 140px;\r\n  margin-right: 10px;\r\n  border-radius: 4px;\r\n}\r\n.go_show {\r\n  font-size: 14px;\r\n  text-align: center;\r\n}\r\n.go_show > span {\r\n  font-size: 8px;\r\n  color: gray;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=9bf289fa&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}